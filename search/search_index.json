{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":[" "]},"docs":[{"location":"","title":"Unordered \u2013 dokumentacja aplikacji","text":""},{"location":"#opis-aplikacji","title":"Opis aplikacji","text":"<p>Unordered to nowoczesna aplikacja mobilna, kt\u00f3ra pomaga u\u017cytkownikom w szybkim i trafnym wyborze prezent\u00f3w na r\u00f3\u017cne okazje, takie jak urodziny, rocznice czy \u015bwi\u0119ta. G\u0142\u00f3wnym celem aplikacji jest automatyzacja procesu doboru prezent\u00f3w oraz przypominanie o wa\u017cnych datach, eliminuj\u0105c problem braku pomys\u0142\u00f3w, czasu czy zapominania o okazjach.</p> <p>U\u017cytkownik mo\u017ce tworzy\u0107 profile os\u00f3b, dla kt\u00f3rych planuje prezenty, okre\u015blaj\u0105c ich zainteresowania i preferencje. Nast\u0119pnie, dzi\u0119ki integracji z AI (OpenAI GPT), aplikacja generuje spersonalizowane propozycje prezent\u00f3w (tzw. boxy), dostosowane do profilu, okazji oraz bud\u017cetu. Mo\u017cliwe jest tak\u017ce ustawienie cyklicznych box\u00f3w, kt\u00f3re automatycznie przypominaj\u0105 i generuj\u0105 prezenty na wybrane daty.</p> <p>Unordered wyr\u00f3\u017cnia si\u0119 pe\u0142n\u0105 automatyzacj\u0105 - od analizy profilu, przez dob\u00f3r produkt\u00f3w z wielu platform zakupowych, a\u017c po przypomnienia o nadchodz\u0105cych okazjach. Dzi\u0119ki temu u\u017cytkownik nie musi samodzielnie przeszukiwa\u0107 sklep\u00f3w ani pami\u0119ta\u0107 o terminach - aplikacja zrobi to za niego, zapewniaj\u0105c jednocze\u015bnie element zaskoczenia i personalizacji.</p> <p>Aplikacja jest skierowana zar\u00f3wno do os\u00f3b prywatnych, jak i firm, kt\u00f3re chc\u0105 zadba\u0107 o swoich pracownik\u00f3w czy bliskich, oferuj\u0105c im wyj\u0105tkowe, dopasowane prezenty bez zb\u0119dnego wysi\u0142ku.</p>"},{"location":"#wyjasnienie-pojec","title":"Wyja\u015bnienie poj\u0119\u0107","text":"<ul> <li> <p>Box     Spersonalizowany zestaw prezentowy, generowany automatycznie na podstawie profilu osoby obdarowywanej, okazji, bud\u017cetu lub wyboru losowego. Box zawiera propozycje konkretnych produkt\u00f3w, kt\u00f3re razem tworz\u0105 gotowy do wr\u0119czenia prezent. Ka\u017cdy box jest unikalny i dopasowany do wybranych przez u\u017cytkownika kryteri\u00f3w.</p> </li> <li> <p>AI     Sztuczna inteligencja, odnosi si\u0119 do wykorzystania modeli j\u0119zykowych OpenAI (np. o4-mini) do generowania spersonalizowanych propozycji prezent\u00f3w na podstawie kryteri\u00f3w podanych przez u\u017cytkownika.</p> </li> </ul>"},{"location":"#architektura-systemu","title":"Architektura systemu","text":"<ul> <li>Frontend: Flutter (Android/iOS)</li> <li>Backend: Firebase (Cloud Functions, Firestore, Authentication)</li> <li>AI: OpenAI GPT (generowanie propozycji prezent\u00f3w)</li> <li>Automatyzacja: Cloud Functions Scheduler (cykliczne generowanie box\u00f3w)</li> </ul>"},{"location":"#dokumentacja-szczegoowa","title":"Dokumentacja szczeg\u00f3\u0142owa","text":"<ul> <li>Dokumentacja Frontend (Flutter)</li> <li>Dokumentacja Backend (Firebase)</li> <li>Dokumentacja bazy danych (Firestore)</li> </ul>"},{"location":"#znane-ograniczenia","title":"Znane ograniczenia","text":"<ul> <li>Limity i koszty zwi\u0105zane z wykorzystaniem API OpenAI (np. limity token\u00f3w, op\u0142aty za zapytania)</li> <li>Limity Firestore (np. liczba dokument\u00f3w, limity odczyt\u00f3w/zapis\u00f3w)</li> <li>Brak pe\u0142nej automatyzacji zam\u00f3wie\u0144 fizycznych \u2013 aplikacja generuje propozycje, ale nie realizuje zam\u00f3wie\u0144</li> <li>Zale\u017cno\u015b\u0107 od dost\u0119pno\u015bci zewn\u0119trznych platform zakupowych</li> <li>Brak implementacji manualnego wyboru produkt\u00f3w przez u\u017cytkownika (na obecnym etapie)</li> </ul>"},{"location":"#roadmap-i-rozwoj","title":"Roadmap i rozw\u00f3j","text":"<ul> <li>Integracja z dodatkowymi platformami zakupowymi (szerszy wyb\u00f3r produkt\u00f3w)</li> <li>Wsp\u00f3\u0142praca z markami i sklepami (dedykowane boxy, oferty specjalne)</li> <li>System subskrypcji (cykliczne boxy, automatyczne przypomnienia)</li> <li>Integracja z kalendarzami zewn\u0119trznymi (np. Google Calendar)</li> <li>Usprawnienie procesu zamawiania produkt\u00f3w (np. automatyczne przekierowanie do sklepu)</li> <li>Rozszerzenie funkcjonalno\u015bci AI (lepsze dopasowanie prezent\u00f3w do profilu)</li> <li>Mo\u017cliwo\u015b\u0107 wsp\u00f3\u0142pracy z influencerami i partnerami</li> <li>Rozbudowa panelu administracyjnego i statystyk</li> </ul>"},{"location":"#autorzy","title":"Autorzy","text":"<ul> <li>Adam Dybcio</li> <li>\u0141ukasz Czapski</li> <li>Igor Ci\u017cewski</li> <li>Denis Jab\u0142o\u0144ski</li> <li>Mateusz Sztankiewicz</li> </ul>"},{"location":"firestore/overview/","title":"Dokumentacja bazy danych (Firestore)","text":""},{"location":"firestore/overview/#wprowadzenie","title":"Wprowadzenie","text":"<p>W tej sekcji opisano struktur\u0119 bazy danych Firestore dla aplikacji Unordered. Baza danych jest zorganizowana w kolekcje i dokumenty, kt\u00f3re przechowuj\u0105 informacje o boxach, zam\u00f3wieniach, produktach, u\u017cytkownikach i innych istotnych danych.</p>"},{"location":"firestore/overview/#kolekcje-gowne","title":"Kolekcje g\u0142\u00f3wne","text":""},{"location":"firestore/overview/#daily","title":"<code>daily</code>","text":"<p>Kolekcja przechowuj\u0105ca codzienne boxy.</p> <ul> <li>Dokument:<ul> <li><code>budget</code> \u2013 bud\u017cet boxa</li> <li><code>createdInMillis</code> \u2013 data utworzenia (timestamp w ms)</li> <li><code>price</code> \u2013 cena boxa</li> <li><code>products</code> \u2013 lista dokument\u00f3w <code>products</code></li> <li><code>theme</code> \u2013 motyw boxa</li> </ul> </li> </ul>"},{"location":"firestore/overview/#orders","title":"<code>orders</code>","text":"<p>Kolekcja zam\u00f3wie\u0144.</p> <ul> <li>Dokument:<ul> <li><code>address</code> \u2013 adres dostawy</li> <li><code>addressMethod</code> \u2013 spos\u00f3b dostawy/adresowania</li> <li><code>lastUpdate</code> \u2013 data ostatniej aktualizacji</li> <li><code>orderedAt</code> \u2013 data z\u0142o\u017cenia zam\u00f3wienia</li> <li><code>orderedBy</code> \u2013 identyfikator zamawiaj\u0105cego</li> <li><code>paymentMethod</code> \u2013 metoda p\u0142atno\u015bci</li> <li><code>products</code> \u2013 lista zam\u00f3wionych produkt\u00f3w, dokumenty <code>products</code></li> <li><code>status</code> \u2013 status zam\u00f3wienia</li> <li><code>totalPrice</code> \u2013 \u0142\u0105czna cena zam\u00f3wienia</li> </ul> </li> </ul>"},{"location":"firestore/overview/#products","title":"<code>products</code>","text":"<p>Kolekcja produkt\u00f3w.</p> <ul> <li>Dokument:<ul> <li><code>link</code> \u2013 link do produktu</li> <li><code>name</code> \u2013 nazwa produktu</li> <li><code>price</code> \u2013 cena produktu</li> <li><code>prodDesc</code> \u2013 opis produktu</li> <li><code>storeId</code> \u2013 identyfikator sklepu</li> </ul> </li> </ul>"},{"location":"firestore/overview/#shared","title":"<code>shared</code>","text":"<p>Kolekcja wsp\u00f3\u0142dzielonych box\u00f3w.</p> <ul> <li>Dokument:<ul> <li><code>author</code> \u2013 autor boxa</li> <li><code>budget</code> \u2013 bud\u017cet boxa</li> <li><code>createdInMillis</code> \u2013 data utworzenia (timestamp w ms)</li> <li><code>cycleFreq</code> \u2013 cz\u0119stotliwo\u015b\u0107 cyklu (np. miesi\u0119czna)</li> <li><code>isPeriodical</code> \u2013 czy box jest cykliczny</li> <li><code>occasion</code> \u2013 okazja</li> <li><code>plannedDate</code> \u2013 planowana data</li> <li><code>price</code> \u2013 cena boxa</li> <li><code>products</code> \u2013 lista dokument\u00f3w <code>products</code></li> </ul> </li> </ul>"},{"location":"firestore/overview/#stores","title":"<code>stores</code>","text":"<p>Kolekcja sklep\u00f3w.</p> <ul> <li>Dokument:<ul> <li><code>link</code> \u2013 link do sklepu</li> <li><code>logo</code> \u2013 logo sklepu</li> <li><code>name</code> \u2013 nazwa sklepu</li> </ul> </li> </ul>"},{"location":"firestore/overview/#users","title":"<code>users</code>","text":"<p>Kolekcja u\u017cytkownik\u00f3w.</p> <ul> <li>Dokument:</li> <li> <p>Podkolekcja: <code>boxes</code></p> <ul> <li>Dokument:<ul> <li><code>budget</code> \u2013 bud\u017cet boxa</li> <li><code>createdInMillis</code> \u2013 data utworzenia</li> <li><code>cycleFreq</code> \u2013 cz\u0119stotliwo\u015b\u0107 cyklu</li> <li><code>isPeriodical</code> \u2013 czy box jest cykliczny</li> <li><code>occasion</code> \u2013 okazja</li> <li><code>plannedDate</code> \u2013 planowana data</li> <li><code>price</code> \u2013 cena boxa</li> <li><code>products</code> \u2013 lista dokument\u00f3w <code>products</code></li> <li><code>profileId</code> \u2013 powi\u0105zany dokument <code>profiles</code></li> </ul> </li> </ul> </li> <li> <p>Podkolekcja: <code>liked</code></p> <ul> <li>Dokument:<ul> <li><code>likeDate</code> \u2013 data polubienia</li> </ul> </li> </ul> </li> <li> <p>Podkolekcja: <code>orders</code>         - lista dokument\u00f3w <code>orders</code></p> </li> <li> <p>Podkolekcja: <code>profiles</code></p> <ul> <li>Dokument:<ul> <li><code>createdInMillis</code> \u2013 data utworzenia profilu</li> <li><code>description</code> \u2013 opis profilu</li> <li><code>interests</code> \u2013 zainteresowania</li> <li><code>name</code> \u2013 nazwa profilu</li> </ul> </li> </ul> </li> </ul>"},{"location":"firestore/overview/#uwagi","title":"Uwagi","text":"<ul> <li>Ka\u017cda kolekcja i dokument mo\u017ce by\u0107 rozszerzana o dodatkowe pola w zale\u017cno\u015bci od wymaga\u0144 projektu.</li> <li>Struktura pozwala na \u0142atwe zarz\u0105dzanie boxami, zam\u00f3wieniami, produktami oraz profilami u\u017cytkownik\u00f3w.</li> <li>Podkolekcje w <code>users</code> umo\u017cliwiaj\u0105 przechowywanie danych powi\u0105zanych bezpo\u015brednio z u\u017cytkownikiem.</li> </ul>"},{"location":"flutter/overview/","title":"Dokumentacja Frontend (Flutter)","text":""},{"location":"flutter/overview/#wprowadzenie","title":"Wprowadzenie","text":"<p>Unordered-Mobile to aplikacja mobilna napisana w Flutterze, spe\u0142niaj\u0105ca funkcj\u0119 frontendu dla aplikacji Unordered. Umo\u017cliwia u\u017cytkownikom tworzenie i zarz\u0105dzanie boxami, przegl\u0105danie historii zam\u00f3wie\u0144, zarz\u0105dzanie profilami odbiorc\u00f3w oraz korzystanie z powiadomie\u0144.</p>"},{"location":"flutter/overview/#wymagania-systemowe","title":"Wymagania systemowe","text":"<ul> <li>Flutter SDK</li> <li>Dart (zalecana najnowsza wersja)</li> <li>Android Studio lub Xcode (dla Android/iOS)</li> <li>Konto Firebase z odpowiedni\u0105 konfiguracj\u0105 projektu</li> </ul>"},{"location":"flutter/overview/#instalacja-i-uruchomienie","title":"Instalacja i uruchomienie","text":"<ol> <li>Przejd\u017a do katalogu projektu.</li> <li>Zainstaluj zale\u017cno\u015bci: <code>flutter pub get</code></li> <li>Skonfiguruj pliki \u015brodowiskowe Firebase komend\u0105:    <code>flutterfire configure</code></li> <li>Uruchom aplikacj\u0119 na emulatorze lub urz\u0105dzeniu fizycznym: <code>flutter run</code></li> </ol>"},{"location":"flutter/overview/#struktura-projektu","title":"Struktura projektu","text":"<p>G\u0142\u00f3wne katalogi i pliki:</p> <ul> <li><code>lib/</code> \u2013 kod \u017ar\u00f3d\u0142owy aplikacji Flutter:</li> <li><code>core/</code> \u2013 podstawowe klasy i funkcje</li> <li><code>features/</code> \u2013 modu\u0142y funkcjonalne (np. boxy, profile, historia)<ul> <li><code>mystery_box_creator/</code> \u2013 kreator box\u00f3w</li> <li><code>mystery_box_discover/</code> \u2013 przegl\u0105danie box\u00f3w</li> <li><code>user_center/</code> \u2013 zarz\u0105dzanie profilami u\u017cytkownik\u00f3w</li> <li><code>welcome_new_users/</code> \u2013 ekran powitalny dla nowych u\u017cytkownik\u00f3w</li> </ul> </li> <li><code>custom_navigation.dart</code> \u2013 niestandardowa nawigacja</li> <li><code>main.dart</code> \u2013 punkt wej\u015bcia aplikacji</li> <li><code>firebase_options.dart</code> \u2013 konfiguracja Firebase</li> </ul>"},{"location":"flutter/overview/#gowne-zaleznosci","title":"G\u0142\u00f3wne zale\u017cno\u015bci","text":"<ul> <li>cupertino_icons \u2013 zestaw ikon w stylu iOS</li> <li>decimal \u2013 precyzyjna arytmetyka dziesi\u0119tna</li> <li>font_awesome_flutter \u2013 ikony FontAwesome</li> <li>animate_do \u2013 animacje UI</li> <li>google_maps_flutter \u2013 integracja z Mapami Google</li> <li>intl \u2013 obs\u0142uga dat i czasu, lokalizacja</li> <li>get \u2013 zarz\u0105dzanie stanem, routing</li> <li>get_storage \u2013 lokalna baza danych</li> <li>get_it \u2013 wstrzykiwanie zale\u017cno\u015bci (dependency injection)</li> <li>dio \u2013 zapytania HTTP</li> <li>firebase_core \u2013 inicjalizacja Firebase</li> <li>firebase_auth \u2013 uwierzytelnianie u\u017cytkownik\u00f3w</li> <li>cloud_firestore \u2013 baza danych Firestore</li> <li>cloud_functions \u2013 wywo\u0142ywanie funkcji chmurowych Firebase</li> <li>http \u2013 zapytania HTTP</li> <li>rxdart \u2013 programowanie reaktywne, obs\u0142uga strumieni</li> <li>lottie \u2013 animacje Lottie (gify)</li> <li>smooth_page_indicator \u2013 wska\u017aniki stron (np. onboarding)</li> <li>google_fonts \u2013 czcionki Google Fonts</li> <li>timeline_tile \u2013 o\u015b czasu w UI</li> <li>readmore \u2013 rozwijane teksty</li> <li>table_calendar \u2013 kalendarz w UI</li> <li>shimmer \u2013 efekt \u0142adowania shimmer</li> <li>photo_view \u2013 powi\u0119kszanie zdj\u0119\u0107</li> <li>google_nav_bar \u2013 dolna nawigacja w stylu Google</li> </ul>"},{"location":"flutter/overview/#opis-funkcjonalnosci-interfejsy-uzytkownika","title":"Opis funkcjonalno\u015bci (interfejsy u\u017cytkownika)","text":"<ul> <li>Tworzenie mystery box\u00f3w (kreator):   Interfejs umo\u017cliwia u\u017cytkownikowi utworzenie boxa na podstawie profilu, bud\u017cetu i okazji lub wygenerowanie boxa losowego. Kreator prowadzi przez kolejne kroki wyboru.</li> <li>Zarz\u0105dzanie profilami odbiorc\u00f3w:   Interfejs pozwala na tworzenie, edycj\u0119 i usuwanie profili odbiorc\u00f3w box\u00f3w (np. rodzina, znajomi).</li> <li>Historia zam\u00f3wie\u0144 i box\u00f3w:   Interfejs umo\u017cliwia przegl\u0105danie historii zam\u00f3wie\u0144, szczeg\u00f3\u0142\u00f3w box\u00f3w oraz status\u00f3w realizacji.</li> <li>Powiadomienia i promocje:   Interfejs prezentuje powiadomienia o statusie zam\u00f3wie\u0144, promocjach i nowo\u015bciach.</li> <li>Zarz\u0105dzanie kontem u\u017cytkownika:   Interfejs pozwala u\u017cytkownikowi na zarz\u0105dzanie swoim kontem.</li> </ul> <p>Funkcjonalno\u015b\u0107 oraz widoki poszczeg\u00f3lnych modu\u0142\u00f3w s\u0105 opisane na stronie Dokumentacja Widget\u00f3w Flutter.</p>"},{"location":"flutter/widgets/","title":"Dokumentacja widget\u00f3w (Flutter)","text":""},{"location":"flutter/widgets/#wprowadzenie","title":"Wprowadzenie","text":"<p>W tej sekcji znajdziesz dokumentacj\u0119 widget\u00f3w u\u017cytych w aplikacji Flutter. Ka\u017cdy widget jest opisany wraz z jego przeznaczeniem, lokalizacj\u0105 w kodzie oraz zrzutem ekranu. Dokumentacja ta ma na celu u\u0142atwienie zrozumienia struktury aplikacji i jej komponent\u00f3w.</p>"},{"location":"flutter/widgets/#strony","title":"Strony","text":""},{"location":"flutter/widgets/#strona-powitalna","title":"Strona powitalna","text":"<ul> <li>Plik: <code>features/welcome_new_users/presentation/pages/introduction_page.dart</code></li> <li>Zrzut ekranu: </li> <li> <p>Opis:     Strona powitalna dla nowych u\u017cytkownik\u00f3w, prowadz\u0105ca przez proces rejestracji i weryfikacji numeru telefonu.</p> </li> <li> <p>U\u017cyte widgety:</p> <ul> <li><code>WelcomeStep</code>:   Ekran powitalny z banerem, animacj\u0105 Lottie oraz przyciskiem \"Rozpocznij przygod\u0119\".</li> <li><code>NumberStep</code>:   Formularz do wprowadzenia numeru telefonu, z walidacj\u0105 i animacj\u0105 Lottie.</li> <li><code>VerificationStep</code>:   Ekran do wpisania kodu SMS, z polami na cyfry, obs\u0142ug\u0105 timera i przyciskami do weryfikacji oraz ponownego wys\u0142ania kodu.</li> <li><code>SuccessStep</code>:   Ekran ko\u0144cowy informuj\u0105cy o sukcesie rejestracji.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-gowna","title":"Strona g\u0142\u00f3wna","text":"<ul> <li>Plik: <code>features/mystery_box_discover/presentation/pages/home_page.dart</code></li> <li>Zrzut ekranu: </li> <li> <p>Opis:     G\u0142\u00f3wna strona aplikacji prezentuj\u0105ca u\u017cytkownikowi r\u00f3\u017cne sekcje z ofertami i kategoriami. Zawiera m.in. baner promocyjny, sekcj\u0119 dziennych box\u00f3w, ostatnio udost\u0119pnione boxy, kategorie oraz propozycje ponownych zam\u00f3wie\u0144. Strona korzysta z <code>CustomScrollView</code> i wielu w\u0142asnych widget\u00f3w-sekcji.</p> </li> <li> <p>U\u017cyte widgety:</p> <ul> <li><code>CustomAppBar</code>:   Niestandardowy pasek aplikacji z t\u0142em i tytu\u0142em.</li> <li><code>DailyBoxesSection</code>:   Sekcja prezentuj\u0105ca dzisiejsze boxy do odkrycia.</li> <li><code>PromotionHeader</code>:   Baner promocyjny z animacjami Lottie i rozmytym t\u0142em.</li> <li><code>SharedBoxesSection</code>:   Sekcja z ostatnio udost\u0119pnionymi boxami przez innych u\u017cytkownik\u00f3w.</li> <li><code>HomeCategories</code>:   Lista kategorii dost\u0119pnych box\u00f3w.</li> <li><code>MayLikeSection</code>:   Propozycje box\u00f3w, kt\u00f3re mog\u0105 zainteresowa\u0107 u\u017cytkownika.</li> <li><code>OrderAgainSection</code>:   Sekcja z boxami, kt\u00f3re u\u017cytkownik mo\u017ce zam\u00f3wi\u0107 ponownie.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-kreatora-boxow","title":"Strona kreatora box\u00f3w","text":"<ul> <li>Plik: <code>features/mystery_box_creator/presentation/pages/creator_start_page.dart</code></li> <li>Zrzut ekranu: </li> <li> <p>Opis:     Strona umo\u017cliwiaj\u0105ca u\u017cytkownikowi rozpocz\u0119cie procesu tworzenia w\u0142asnego Mystery Boxa. U\u017cytkownik wybiera typ boxa (np. profilowy, losowy, cykliczny, manualny), a nast\u0119pnie przechodzi przez kolejne kroki kreatora. Ka\u017cdy typ boxa mo\u017ce mie\u0107 w\u0142asny opis i \u015bcie\u017ck\u0119 tworzenia.</p> </li> <li> <p>U\u017cyte widgety:</p> <ul> <li><code>CreatorTitle</code>:   Nag\u0142\u00f3wek strony kreatora z tytu\u0142em i kr\u00f3tkim opisem.  </li> <li><code>CreatorTypes</code>:   Lista dost\u0119pnych typ\u00f3w box\u00f3w do wyboru przez u\u017cytkownika.  </li> <li><code>CreatorTypeCard</code>:   Karta reprezentuj\u0105ca pojedynczy typ boxa, z ikon\u0105, tytu\u0142em, opisem i opcjonalnym przyciskiem informacyjnym.  </li> <li><code>CreatorProfileInfoPage</code>:   Strona z informacjami o wybranym typie boxa oraz krokami procesu tworzenia.  </li> <li><code>CreatorSteps</code>:   Wizualizacja krok\u00f3w procesu tworzenia boxa w formie osi czasu.  </li> <li><code>CreatorTimelinePoint</code>, <code>CreatorTimelineDivider</code>:   Elementy osi czasu u\u017cywane w <code>CreatorSteps</code>.  </li> <li><code>CreatorButton</code>:   Przycisk powrotu do kreatora z ekranu informacyjnego.  </li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-kreatora-boxow-dla-profilu","title":"Strona kreatora box\u00f3w <code>Dla profilu</code>","text":"<ul> <li> <p>Opis:     Kreator box\u00f3w dla wybranego profilu u\u017cytkownika. Umo\u017cliwia przej\u015bcie przez kolejne kroki: wyb\u00f3r profilu odbiorcy, okazji, bud\u017cetu, daty (lub cyklu) oraz podsumowanie. Ka\u017cdy krok prezentowany jest jako osobny ekran w <code>PageView</code>.</p> </li> <li> <p>U\u017cyte widgety:</p> <ul> <li><code>StepIndicator</code>:   Pasek post\u0119pu wy\u015bwietlaj\u0105cy aktualny krok kreatora.</li> <li><code>RecipientStep</code>:   Krok wyboru profilu odbiorcy boxa.</li> <li><code>OccasionStep</code>:   Krok wyboru okazji (z listy lub w\u0142asny opis).</li> <li><code>BudgetStep</code>:   Krok wyboru bud\u017cetu (z listy lub w\u0142asny).</li> <li><code>CycleStep</code>:   Krok wyboru daty lub cykliczno\u015bci (dla box\u00f3w cyklicznych).</li> <li><code>CheckStep</code>:   Podsumowanie wszystkich wybranych opcji przed utworzeniem boxa.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#wybor-profilu","title":"Wyb\u00f3r profilu","text":"<ul> <li>Plik: <code>features/mystery_box_creator/presentation/widgets/creator_profile_page/recipient_step.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Pozwala wybra\u0107 istniej\u0105cy profil odbiorcy lub doda\u0107 nowy profil. Wy\u015bwietla list\u0119 profili u\u017cytkownika z mo\u017cliwo\u015bci\u0105 wyboru.</li> </ul>"},{"location":"flutter/widgets/#wybor-okazji","title":"Wyb\u00f3r okazji","text":"<ul> <li>Plik: <code>features/mystery_box_creator/presentation/widgets/creator_profile_page/occasion_step.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Umo\u017cliwia wyb\u00f3r okazji z predefiniowanych kategorii lub wpisanie w\u0142asnej okazji.</li> </ul>"},{"location":"flutter/widgets/#wybor-budzetu","title":"Wyb\u00f3r bud\u017cetu","text":"<ul> <li>Plik: <code>features/mystery_box_creator/presentation/widgets/creator_profile_page/budget_step.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Pozwala okre\u015bli\u0107 bud\u017cet boxa \u2013 z listy lub wpisuj\u0105c w\u0142asn\u0105 warto\u015b\u0107.</li> </ul>"},{"location":"flutter/widgets/#wybor-daty","title":"Wyb\u00f3r daty","text":"<ul> <li>Plik: <code>features/mystery_box_creator/presentation/widgets/creator_profile_page/cycle_step.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Pozwala wybra\u0107 dat\u0119 realizacji boxa.</li> </ul>"},{"location":"flutter/widgets/#podsumowanie","title":"Podsumowanie","text":"<ul> <li>Plik: <code>features/mystery_box_creator/presentation/widgets/creator_profile_page/check_step.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Podsumowanie wszystkich wybranych opcji. U\u017cytkownik mo\u017ce zatwierdzi\u0107 utworzenie boxa.</li> </ul>"},{"location":"flutter/widgets/#strona-kreatora-boxow-losowy","title":"Strona kreatora box\u00f3w <code>Losowy</code>","text":"<ul> <li>Opis:     Kreator box\u00f3w losowych, gdzie model AI decyduje o parametrach i finalnej zawarto\u015bci boxa, bez ingerencji u\u017cytkownika. U\u017cytkownik wybiera t\u0119 opcj\u0119 na stronie startowej kreatora, a nast\u0119pnie wy\u015bwietlany jest ekran \u0142adowania i po chwili podsumowanie wygenerowanego boxa.</li> <li>U\u017cyte widgety:<ul> <li><code>CustomLoadingScreen</code>:   Ekran \u0142adowania z animacj\u0105 i komunikatem o generowaniu boxa przez AI.</li> <li><code>MysteryBoxSummaryScreen</code>:   Podsumowanie wygenerowanego boxa (zawarto\u015b\u0107, cena, szczeg\u00f3\u0142y).</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-kreatora-boxow-cykliczny","title":"Strona kreatora box\u00f3w <code>Cykliczny</code>","text":"<ul> <li>Opis:     Kreator box\u00f3w cyklicznych, gdzie u\u017cytkownik ustawia cykl (np. co miesi\u0105c) i AI generuje boxy automatycznie na podstawie profilu i bud\u017cetu. Wi\u0119kszo\u015b\u0107 krok\u00f3w jest identyczna jak w kreatorze \"Dla profilu\" (patrz wy\u017cej), z wyj\u0105tkiem kroku wyboru daty, gdzie pojawia si\u0119 dodatkowa opcja wyboru cz\u0119stotliwo\u015bci cyklu.</li> <li>U\u017cyte widgety:<ul> <li>Analogiczne widgety jak w kreatorze \"Dla profilu\"</li> <li><code>CycleFrequencyWidgets</code>:   Pozwala wybra\u0107 cz\u0119stotliwo\u015b\u0107 cyklu (np. co tydzie\u0144, miesi\u0105c, rok).</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#wybor-profilu_1","title":"Wyb\u00f3r profilu","text":"<p>Analogiczne jak w kreatorze \"Dla profilu\"</p>"},{"location":"flutter/widgets/#wybor-okazji_1","title":"Wyb\u00f3r okazji","text":"<p>Analogiczne jak w kreatorze \"Dla profilu\"</p>"},{"location":"flutter/widgets/#wybor-budzetu_1","title":"Wyb\u00f3r bud\u017cetu","text":"<p>Analogiczne jak w kreatorze \"Dla profilu\"</p>"},{"location":"flutter/widgets/#wybor-cyklu","title":"Wyb\u00f3r cyklu","text":"<ul> <li>Plik: <code>features/mystery_box_creator/presentation/widgets/creator_profile_page/cycle_step.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Umo\u017cliwia wyb\u00f3r cz\u0119stotliwo\u015bci cyklu boxa (np. co tydzie\u0144, miesi\u0105c, rok) oraz daty pierwszego boxa.</li> </ul>"},{"location":"flutter/widgets/#podsumowanie_1","title":"Podsumowanie","text":"<ul> <li>Plik: <code>features/mystery_box_creator/presentation/widgets/creator_profile_page/check_step.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Podsumowanie wszystkich wybranych opcji cyklicznego boxa.</li> </ul>"},{"location":"flutter/widgets/#strona-kreatora-boxow-manualny","title":"Strona kreatora box\u00f3w <code>Manualny</code>","text":"<ul> <li>Opis:     Funkcjonalno\u015b\u0107 nie jest jeszcze zaimplementowana, powiadamia u\u017cytkownika o dost\u0119pno\u015bci w przysz\u0142o\u015bci.</li> </ul>"},{"location":"flutter/widgets/#strona-centrum-uzytkownika","title":"Strona centrum u\u017cytkownika","text":"<ul> <li>Plik: <code>features/user_center/presentation/pages/center_page.dart</code></li> <li>Zrzut ekranu: </li> <li> <p>Opis:     Strona centrum u\u017cytkownika, gdzie u\u017cytkownik mo\u017ce zarz\u0105dza\u0107 swoimi profilami, boxami, zam\u00f3wieniami, ulubionymi, nadchodz\u0105cymi boxami, ustawieniami, kontem oraz uzyska\u0107 informacje o aplikacji. Zawiera sekcje tematyczne z listami opcji oraz przyciskiem wylogowania.</p> </li> <li> <p>U\u017cyte widgety:</p> <ul> <li><code>CustomAppBar</code>:   Pasek nag\u0142\u00f3wka z t\u0142em i tytu\u0142em sekcji centrum u\u017cytkownika.</li> <li><code>CenterSection</code>:   Nag\u0142\u00f3wek sekcji tematycznej (np. \"Moje boxy\", \"Ustawienia\", \"Konto\", \"O nas\").</li> <li><code>CenterBoxesList</code>:   Lista kafelk\u00f3w nawigacyjnych do podstron zwi\u0105zanych z boxami/profilami/zam\u00f3wieniami/ulubionymi/nadchodz\u0105cymi boxami.</li> <li><code>CenterSettingsList</code>:   Lista kafelk\u00f3w do ustawie\u0144 aplikacji.</li> <li><code>CenterAccountList</code>:   Lista kafelk\u00f3w do zarz\u0105dzania kontem (np. czyszczenie danych, zamkni\u0119cie konta).</li> <li><code>CenterAboutList</code>:   Lista kafelk\u00f3w z informacjami o aplikacji i tw\u00f3rcach.</li> <li><code>LogoutButton</code>:   Przycisk wylogowania u\u017cytkownika z aplikacji.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-centrum-moje-profile","title":"Strona centrum  <code>Moje profile</code>","text":"<ul> <li>Plik: <code>features/user_center/presentation/pages/my_profiles_page.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Pozwala zarz\u0105dza\u0107 profilami u\u017cytkownika \u2013 przegl\u0105da\u0107, edytowa\u0107, usuwa\u0107 i dodawa\u0107 nowe profile. Ka\u017cdy profil prezentowany jest w formie karty z informacjami i przyciskami akcji.</li> <li>U\u017cyte widgety:<ul> <li><code>ProfileWidget</code>:   Karta prezentuj\u0105ca pojedynczy profil u\u017cytkownika.</li> <li><code>SummaryBanner</code>:   Baner z przyciskiem do dodania nowego profilu.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-centrum-moje-boxy","title":"Strona centrum  <code>Moje boxy</code>","text":"<ul> <li>Plik: <code>features/user_center/presentation/pages/my_boxes_page.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Lista wszystkich box\u00f3w utworzonych przez u\u017cytkownika. Pozwala przegl\u0105da\u0107 szczeg\u00f3\u0142y, usuwa\u0107 boxy oraz zobaczy\u0107 ich zawarto\u015b\u0107.</li> <li>U\u017cyte widgety:<ul> <li><code>MysteryBoxWidget</code>:   Karta prezentuj\u0105ca pojedynczy box u\u017cytkownika.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-centrum-moje-zamowienia","title":"Strona centrum  <code>Moje zam\u00f3wienia</code>","text":"<ul> <li>Plik: <code>features/user_center/presentation/pages/my_orders_page.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Historia zam\u00f3wie\u0144 u\u017cytkownika z podzia\u0142em na statusy (oczekuj\u0105ce, zrealizowane, anulowane). Pozwala przegl\u0105da\u0107 szczeg\u00f3\u0142y zam\u00f3wie\u0144 i ponawia\u0107 zam\u00f3wienia.</li> <li>U\u017cyte widgety:<ul> <li><code>OrderCard</code>:   Karta prezentuj\u0105ca pojedyncze zam\u00f3wienie.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-centrum-moje-ulubione","title":"Strona centrum  <code>Moje ulubione</code>","text":"<ul> <li>Plik: <code>features/user_center/presentation/pages/favorites_page.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Lista box\u00f3w polubionych przez u\u017cytkownika. Pozwala szybko przej\u015b\u0107 do szczeg\u00f3\u0142\u00f3w wybranego boxa.</li> <li>U\u017cyte widgety:<ul> <li><code>MysteryBoxWidget</code>:   Karta prezentuj\u0105ca polubiony box.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-centrum-nadchodzace-boxy","title":"Strona centrum  <code>Nadchodz\u0105ce boxy</code>","text":"<ul> <li>Plik: <code>features/user_center/presentation/pages/upcoming_boxes_page.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Lista box\u00f3w, kt\u00f3re maj\u0105 zosta\u0107 dostarczone w przysz\u0142o\u015bci (np. boxy cykliczne).</li> <li>U\u017cyte widgety:<ul> <li><code>MysteryBoxWidget</code>:   Karta prezentuj\u0105ca nadchodz\u0105cy box.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-centrum-moje-ustawienia","title":"Strona centrum  <code>Moje ustawienia</code>","text":"<ul> <li>Plik: <code>features/user_center/presentation/pages/settings_page.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Ustawienia aplikacji, w tym motyw, preferencje i informacje o aplikacji.</li> <li>U\u017cyte widgety:<ul> <li><code>AppThemeWidget</code>:   Zmiana motywu aplikacji.</li> <li><code>PreferencesWidget</code>:   Preferencje u\u017cytkownika.</li> <li><code>InfoWidget</code>:   Informacje o aplikacji.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-centrum-wyczysc-wszystkie-dane","title":"Strona centrum  <code>Wyczy\u015b\u0107 wszystkie dane</code>","text":"<ul> <li>Opis:     Opcja umo\u017cliwiaj\u0105ca wyczyszczenie wszystkich danych u\u017cytkownika z aplikacji (funkcjonalno\u015b\u0107 do zaimplementowania).</li> <li>U\u017cyte widgety:<ul> <li><code>CenterTile</code>:   Kafelek akcji.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-centrum-zamknij-konto","title":"Strona centrum  <code>Zamknij konto</code>","text":"<ul> <li>Opis:     Opcja umo\u017cliwiaj\u0105ca zamkni\u0119cie konta u\u017cytkownika (funkcjonalno\u015b\u0107 do zaimplementowania).</li> <li>U\u017cyte widgety:<ul> <li><code>CenterTile</code>:   Kafelek akcji.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#strona-centrum-informacje-o-nas","title":"Strona centrum  <code>Informacje o nas</code>","text":"<ul> <li>Plik: <code>features/user_center/presentation/pages/info_page.dart</code></li> <li>Zrzut ekranu: </li> <li>Opis:     Strona z informacjami o tw\u00f3rcach aplikacji, misji projektu oraz cytatem motywacyjnym.</li> <li>U\u017cyte widgety:<ul> <li><code>BannerSection</code>:   Baner z logo i nag\u0142\u00f3wkiem.</li> <li><code>InfoSection</code>:   Sekcja z informacjami o zespole i misji.</li> <li><code>InfoQuote</code>:   Cytat motywacyjny.</li> </ul> </li> </ul>"},{"location":"flutter/widgets/#podsumowanie-widgetow","title":"Podsumowanie widget\u00f3w","text":"Nazwa widgetu Opis WelcomeStep Ekran powitalny z animacj\u0105 i przyciskiem startu. NumberStep Formularz do wprowadzenia numeru telefonu. VerificationStep Weryfikacja kodu SMS, pola na cyfry, obs\u0142uga timera. SuccessStep Ekran sukcesu po rejestracji. CustomAppBar Pasek nag\u0142\u00f3wka z t\u0142em, obrazem i tytu\u0142em. DailyBoxesSection Sekcja z dzisiejszymi boxami do odkrycia. PromotionHeader Baner promocyjny z animacjami Lottie. SharedBoxesSection Sekcja z ostatnio udost\u0119pnionymi boxami. HomeCategories Lista kategorii box\u00f3w. MayLikeSection Propozycje box\u00f3w dla u\u017cytkownika. OrderAgainSection Sekcja z boxami do ponownego zam\u00f3wienia. CreatorTitle Nag\u0142\u00f3wek kreatora box\u00f3w. CreatorTypes Lista typ\u00f3w box\u00f3w do wyboru. CreatorTypeCard Karta pojedynczego typu boxa. CreatorProfileInfoPage Strona z informacjami o typie boxa i krokach kreatora. CreatorSteps O\u015b czasu z krokami kreatora box\u00f3w. CreatorTimelinePoint Punkt na osi czasu kreatora. CreatorTimelineDivider Separator osi czasu kreatora. CreatorButton Przycisk powrotu z ekranu informacyjnego kreatora. StepIndicator Pasek post\u0119pu w kreatorze box\u00f3w. RecipientStep Krok wyboru profilu odbiorcy boxa. OccasionStep Krok wyboru okazji. BudgetStep Krok wyboru bud\u017cetu. CycleStep Krok wyboru daty lub cyklu. CycleFrequencyWidgets Wyb\u00f3r cz\u0119stotliwo\u015bci cyklu dla box\u00f3w cyklicznych. CheckStep Podsumowanie wybor\u00f3w w kreatorze box\u00f3w. SummaryBanner Baner podsumowuj\u0105cy z ikon\u0105 i opisem. SummaryItems Lista produkt\u00f3w w boxie z opcj\u0105 usuwania. SummaryButtons Przycisk akcji w podsumowaniu boxa. SummaryPrice Wy\u015bwietlanie ceny boxa. MysteryBoxWidget Karta prezentuj\u0105ca box u\u017cytkownika. OrderCard Karta prezentuj\u0105ca zam\u00f3wienie u\u017cytkownika. ProfileWidget Karta prezentuj\u0105ca profil u\u017cytkownika. ProfileInfoPage Szczeg\u00f3\u0142y i edycja profilu u\u017cytkownika. NewProfilePage Formularz tworzenia nowego profilu. CenterSection Nag\u0142\u00f3wek sekcji w centrum u\u017cytkownika. CenterBoxesList Lista kafelk\u00f3w do podstron zwi\u0105zanych z boxami/profilami/zam\u00f3wieniami. CenterSettingsList Lista kafelk\u00f3w do ustawie\u0144 aplikacji. CenterAccountList Lista kafelk\u00f3w do zarz\u0105dzania kontem. CenterAboutList Lista kafelk\u00f3w z informacjami o aplikacji. CenterTile Kafelek nawigacyjny/akcji w centrum u\u017cytkownika. LogoutButton Przycisk wylogowania u\u017cytkownika. AppThemeWidget Zmiana motywu aplikacji. PreferencesWidget Preferencje u\u017cytkownika. InfoWidget Informacje o aplikacji w ustawieniach. BannerSection Baner z logo i nag\u0142\u00f3wkiem na stronie \"O nas\". InfoSection Sekcja z informacjami o zespole i misji. InfoQuote Cytat motywacyjny na stronie \"O nas\"."},{"location":"gcloud/functions/","title":"Dokumentacja funkcji chmurowych (Cloud Functions)","text":""},{"location":"gcloud/functions/#wprowadzenie","title":"Wprowadzenie","text":"<p>W tej sekcji opisano funkcje chmurowe wykorzystywane w backendzie aplikacji Unordered. Funkcje te realizuj\u0105 logik\u0119 biznesow\u0105, komunikacj\u0119 z zewn\u0119trznymi API oraz obs\u0142ug\u0119 \u017c\u0105da\u0144 z aplikacji mobilnej.</p>"},{"location":"gcloud/functions/#inzynieria-promptow","title":"In\u017cynieria prompt\u00f3w","text":"<p>Przy in\u017cynierii prompt\u00f3w uwaga by\u0142a skupiona na wykorzystaniu najmniejszej liczby token\u00f3w przy zachowaniu jak najlepszej jako\u015bci odpowiedzi. Struktura wszystkich prompt\u00f3w to:  </p> <p>ZASADA \u2192 OPIS ZASADY</p> <p>Wiele opis\u00f3w dotycz\u0105cych jednej zasady jest oddzielonych przecinkiem. Koniec zasady jest oznaczony \u015brednikiem.</p>"},{"location":"gcloud/functions/#wybor-modelu-openai","title":"Wyb\u00f3r modelu OpenAI","text":"<p>Do generowania rekomendacji produkt\u00f3w wybrano model OpenAI o4-mini. Model ten dzia\u0142a w trybie \u201ereasoning\u201d, co pozwala na uwzgl\u0119dnienie wszystkich parametr\u00f3w przekazanych przez u\u017cytkownika podczas generowania odpowiedzi. Dodatkowo, OpenAI o4-mini jest rozwi\u0105zaniem bardziej ekonomicznym w por\u00f3wnaniu do modeli GPT-4.1 oraz OpenAI o3, zapewniaj\u0105c jednocze\u015bnie wysok\u0105 jako\u015b\u0107 generowanych wynik\u00f3w.</p>"},{"location":"gcloud/functions/#modu-matchingjs","title":"Modu\u0142 <code>matching.js</code>","text":"<p>Modu\u0142 <code>matching.js</code> odpowiada za logik\u0119 tworzenia box\u00f3w dla u\u017cytkownik\u00f3w, zar\u00f3wno na podstawie profilu, jak i w trybie losowym. Zawiera tak\u017ce funkcje do generowania codziennych box\u00f3w.</p>"},{"location":"gcloud/functions/#funkcja-createbox","title":"Funkcja <code>createBox</code>","text":"<p>Tworzy box na podstawie wybranego profilu u\u017cytkownika, bud\u017cetu i okazji. Wykorzystuje OpenAI do doboru produkt\u00f3w.</p> <p>Sprawdza, czy u\u017cytkownik jest zalogowany i posiada odpowiednie uprawnienia do wywo\u0142ania funkcji. <pre><code>if (!request.auth) {\n  throw new functions.https.HttpsError(\n      \"unauthenticated\",\n      \"The function must be called while authenticated.\",\n  );\n}\n// ...pobranie danych profilu i produkt\u00f3w...\n</code></pre> Tworzy prompt na podstawie pobranych danych, kt\u00f3ry zostanie przes\u0142any do modelu OpenAI. <pre><code>const prompt = \"Profile: \" + JSON.stringify(profileData) +\n              \"\\nBudget: \" + JSON.stringify(budget) +\n              \"\\nOccasion: \" + JSON.stringify(occasion) +\n              \"\\nProducts: \"+ JSON.stringify(productsData);\n</code></pre> Wysy\u0142a prompt i token autoryzacyjny u\u017cytkownika do funkcji openAIResponse, kt\u00f3ra generuje rekomendacje produkt\u00f3w. <pre><code>const openaiResponse = await axios.post(\n    \"&lt;link do cloud funkcji openAIResponse&gt;\",\n    { prompt },\n    { headers: { Authorization: `Bearer ${request.auth.token}` } }\n);\n</code></pre> Przetwarza odpowied\u017a z OpenAI, zapisuje nowy box w bazie danych i zwraca identyfikator boxa oraz status operacji. <pre><code>// ...obs\u0142uga odpowiedzi...\nawait boxRef.set({\n  products: selectedProducts,\n  createdInMillis: createdInMillis,\n  isPeriodical,\n  plannedDate: plannedDate || null,\n  price,\n  cycleFreq: cycleFreq || null,\n  budget: budget || null,\n  occasion: occasion || null,\n  profileId: profileRef.id,\n});\n\nreturn {boxId: boxRef.id, success: true};\n});\n</code></pre></p>"},{"location":"gcloud/functions/#funkcja-createrandombox","title":"Funkcja <code>createRandomBox</code>","text":"<p>Tworzy box z losowo dobranymi produktami (bez profilu i okazji).</p> <p>Sprawdza, czy u\u017cytkownik jest zalogowany. <pre><code>if (!request.auth) {\n  throw new functions.https.HttpsError(\n      \"unauthenticated\",\n      \"The function must be called while authenticated.\",\n  );\n}\n// ...pobranie produkt\u00f3w...\n</code></pre> Tworzy prompt zawieraj\u0105cy tylko list\u0119 produkt\u00f3w. <pre><code>const prompt = \"Products: \"+ JSON.stringify(productsData);\n</code></pre> Wysy\u0142a prompt i token autoryzacyjny u\u017cytkownika do funkcji randomOpenAIResponse, kt\u00f3ra generuje losowe rekomendacje produkt\u00f3w. <pre><code>const openaiResponse = await axios.post(\n    \"&lt;link do cloud funkcji randomOpenAIResponse&gt;\",\n    { prompt },\n    { headers: { Authorization: `Bearer ${request.auth.token}` } }\n);\n</code></pre> Przetwarza odpowied\u017a i zapisuje nowy box z losowymi produktami. <pre><code>// ...obs\u0142uga odpowiedzi...\nawait boxRef.set({\n  products: selectedProducts,\n  createdInMillis: createdInMillis,\n  isPeriodical: false,\n  plannedDate: null,\n  price,\n  cycleFreq: null,\n  budget: null,\n  occasion: null,\n  profileId: null,\n});\n\nreturn {boxId: boxRef.id, success: true};\n});\n</code></pre></p>"},{"location":"gcloud/functions/#funkcja-createdailyboxes","title":"Funkcja <code>createDailyBoxes</code>","text":"<p>Tworzy codziennie zestaw box\u00f3w tematycznych (wykonywana cyklicznie przez scheduler).</p> <p>Funkcja uruchamiana automatycznie ka\u017cdego dnia o 02:00 (UTC). <pre><code>exports.createDailyBoxes = onSchedule(\"every day 02:00\", async (event) =&gt; {\n  // ...losowanie temat\u00f3w i bud\u017cet\u00f3w...\n</code></pre> Dla ka\u017cdego z 5 temat\u00f3w generuje prompt i wywo\u0142uje funkcj\u0119 dailyOpenAIResponse do wygenerowania rekomendacji produkt\u00f3w. <pre><code>for (let i=0; i&lt;5; i++) {\n  // ...generowanie promptu i wywo\u0142anie OpenAI...\n  await dailyRef.add(boxData);\n}\n});\n</code></pre></p>"},{"location":"gcloud/functions/#modu-openaijs","title":"Modu\u0142 <code>openai.js</code>","text":"<p>Modu\u0142 <code>openai.js</code> odpowiada za komunikacj\u0119 z API OpenAI oraz generowanie rekomendacji produkt\u00f3w na podstawie prompt\u00f3w przesy\u0142anych z aplikacji lub innych funkcji backendu. Zawiera funkcje obs\u0142uguj\u0105ce r\u00f3\u017cne scenariusze generowania box\u00f3w.</p>"},{"location":"gcloud/functions/#funkcja-openairesponse","title":"Funkcja <code>openAIResponse</code>","text":"<p>Wywo\u0142uje model OpenAI na podstawie promptu z danymi profilu, bud\u017cetu i okazji. Zwraca list\u0119 wybranych produkt\u00f3w w formacie JSON.</p> <p>Sprawdza autoryzacj\u0119 oraz obecno\u015b\u0107 promptu w \u017c\u0105daniu. <pre><code>// ...autoryzacja...\nconst {prompt} = req.body;\nif (!prompt) {\n  res.status(400).send(\"Prompt is required\");\n  return;\n}\n</code></pre> Tworzy zapytanie do modelu OpenAI z okre\u015blonymi zasadami doboru produkt\u00f3w.</p> <p>Struktura promptu jest opisana w sekcji In\u017cynieria prompt\u00f3w.</p> <p>Szczeg\u00f3\u0142y zwi\u0105zane z wyborem modelu OpenAI i jego w\u0142a\u015bciwo\u015bciami s\u0105 opisane w sekcji Wyb\u00f3r modelu OpenAI.</p> <p><pre><code>const completion = await openai.chat.completions.create({\n  model: \"o4-mini-2025-04-16\",\n  messages: [\n    {\n      role: \"system\",\n      content: `Zasady:\nANALIZA-&gt;Uwzgl\u0119dnij zainteresowania, okazj\u0119, i bud\u017cet,\n    Ignoruj niepowi\u0105zane kategorie,\n    je\u015bli brak pasuj\u0105cych produkt\u00f3w, wybierz 1 uniwersalny;\n\nR\u00d3\u017bNORODNO\u015a\u0106-&gt;Unikaj powt\u00f3rze\u0144, dobieraj r\u00f3\u017cne kategorie;\n\nBUD\u017bET-&gt;Nigdy nie przekraczaj bud\u017cetu!, Nie schod\u017a znacznie poni\u017cej,\n    Dany bud\u017cet dotyczy SUMY produkt\u00f3w, nie pojedynczego!;\n\nODPOWIED\u0179-&gt;Zwr\u00f3\u0107 TYLKO JSON array z ID produkt\u00f3w,\n    bez komentarzy, lista niepusta;`,\n    },\n    {\n      role: \"user\",\n      content: `Zwr\u00f3\u0107 TYLKO JSON array z wybranymi ID produkt\u00f3w.\n      Dane wej\u015bciowe: ${prompt}`,\n    },\n  ],\n  response_format: {type: \"json_object\"},\n});\n</code></pre> Zwraca odpowied\u017a z modelu OpenAI do klienta. <pre><code>const responseText = completion.choices[0].message.content;\nres.status(200).json({response: responseText});\n// ...obs\u0142uga b\u0142\u0119d\u00f3w...\n</code></pre></p>"},{"location":"gcloud/functions/#funkcja-dailyopenairesponse","title":"Funkcja <code>dailyOpenAIResponse</code>","text":"<p>Generuje rekomendacje produkt\u00f3w dla codziennych box\u00f3w tematycznych.</p> <p>Sprawdza autoryzacj\u0119 oraz obecno\u015b\u0107 promptu w \u017c\u0105daniu. <pre><code>try {\n  const {prompt} = req.body;\n  if (!prompt) {\n    res.status(400).send(\"Prompt is required\");\n    return;\n  }\n</code></pre> Tworzy zapytanie do modelu OpenAI z zasadami doboru produkt\u00f3w uwzgl\u0119dniaj\u0105cymi tematyk\u0119 boxa.</p> <p>Struktura promptu jest opisana w sekcji In\u017cynieria prompt\u00f3w.</p> <p>Szczeg\u00f3\u0142y zwi\u0105zane z wyborem modelu OpenAI i jego w\u0142a\u015bciwo\u015bciami s\u0105 opisane w sekcji Wyb\u00f3r modelu OpenAI.</p> <p><pre><code>const completion = await openai.chat.completions.create({\n  model: \"o4-mini-2025-04-16\",\n  messages: [\n    {\n      role: \"system\",\n      content: `Zasady:\nDOB\u00d3R-&gt;Uwzgl\u0119dnij temat, unikaj innych kategorii,\n    Wybierz 1 uniwersalny, je\u015bli brak pasuj\u0105cych produkt\u00f3w;\n\nR\u00d3\u017bNORODNO\u015a\u0106-&gt;Unikaj powt\u00f3rze\u0144!, dobieraj r\u00f3\u017cne kategorie;\n\nBUD\u017bET-&gt;Nigdy nie przekraczaj bud\u017cetu!, Nie schod\u017a znacznie poni\u017cej,\n    Dany bud\u017cet dotyczy SUMY produkt\u00f3w, nie pojedynczego!;\n\nODPOWIED\u0179-&gt;TYLKO JSON array z ID produkt\u00f3w,\n    bez komentarzy, lista niepusta;`,\n    },\n    {\n      role: \"user\",\n      content: `Zwr\u00f3\u0107 TYLKO JSON array z wybranymi ID produkt\u00f3w.\n      Dane wej\u015bciowe: ${prompt}`,\n    },\n  ],\n  response_format: {type: \"json_object\"},\n});\n</code></pre> Zwraca odpowied\u017a z modelu OpenAI do klienta. <pre><code>const responseText = completion.choices[0].message.content;\nres.status(200).json({response: responseText});\n} catch (error) {\n  // ...obs\u0142uga b\u0142\u0119d\u00f3w...\n}\n});\n</code></pre></p>"},{"location":"gcloud/functions/#funkcja-randomopenairesponse","title":"Funkcja <code>randomOpenAIResponse</code>","text":"<p>Generuje losowe rekomendacje produkt\u00f3w do boxa bez profilu i okazji.</p> <p>Sprawdza autoryzacj\u0119 oraz obecno\u015b\u0107 promptu w \u017c\u0105daniu. <pre><code>try {\n  // ...autoryzacja...\n  const {prompt} = req.body;\n  if (!prompt) {\n    res.status(400).send(\"Prompt is required\");\n    return;\n  }\n</code></pre> Tworzy zapytanie do modelu OpenAI z zasadami doboru produkt\u00f3w w trybie losowym.</p> <p>Struktura promptu jest opisana w sekcji In\u017cynieria prompt\u00f3w.</p> <p>Szczeg\u00f3\u0142y zwi\u0105zane z wyborem modelu OpenAI i jego w\u0142a\u015bciwo\u015bciami s\u0105 opisane w sekcji Wyb\u00f3r modelu OpenAI.</p> <p><pre><code>const completion = await openai.chat.completions.create({\n  model: \"o4-mini-2025-04-16\",\n  messages: [\n    {\n      role: \"system\",\n      content: `Zasady:\nLOSOWO\u015a\u0106-&gt;Wybierz losowe przedmioty, maks. 8,\n    Unikaj powt\u00f3rze\u0144, lista niepusta;\n\nR\u00d3\u017bNORODNO\u015a\u0106-&gt;Dobieraj r\u00f3\u017cne kategorie;\n\nBUD\u017bET-&gt;Utrzymaj realistyczny bud\u017cet;\n\nODPOWIED\u0179-&gt;TYLKO JSON array z ID produkt\u00f3w, bez komentarzy,\n    lista niepusta;`,\n    },\n    {\n      role: \"user\",\n      content: `Zwr\u00f3\u0107 TYLKO JSON array z wybranymi ID produkt\u00f3w.\n      Dane wej\u015bciowe: ${prompt}`,\n    },\n  ],\n  response_format: {type: \"json_object\"},\n});\n</code></pre> Zwraca odpowied\u017a z modelu OpenAI do klienta. <pre><code>const responseText = completion.choices[0].message.content;\nres.status(200).json({response: responseText});\n} catch (error) {\n  // ...obs\u0142uga b\u0142\u0119d\u00f3w...\n}\n});\n</code></pre></p>"},{"location":"gcloud/functions/#modu-productsjs","title":"Modu\u0142 <code>products.js</code>","text":"<p>Modu\u0142 <code>products.js</code> odpowiada za zarz\u0105dzanie produktami w bazie danych Firestore. Umo\u017cliwia pobieranie listy produkt\u00f3w, pobieranie produktu po ID oraz dodawanie nowych produkt\u00f3w (w tym losowych).</p>"},{"location":"gcloud/functions/#funkcja-getproducts","title":"Funkcja <code>getProducts</code>","text":"<p>Zwraca list\u0119 wszystkich produkt\u00f3w zapisanych w kolekcji <code>products</code>.</p> <p>Pobiera referencj\u0119 do kolekcji produkt\u00f3w. <pre><code>const productsRef = admin.firestore().collection(\"products\");\n</code></pre> Pobiera wszystkie dokumenty z kolekcji, mapuje je na tablic\u0119 obiekt\u00f3w z polem <code>id</code> i danymi produktu. <pre><code>productsRef.get()\n    .then((snapshot) =&gt; {\n      const products = [];\n      snapshot.forEach((doc) =&gt; {\n        products.push({\n          id: doc.id,\n          ...doc.data(),\n        });\n      });\n      res.status(200).json(products);\n    })\n</code></pre> Obs\u0142uguje b\u0142\u0119dy podczas pobierania produkt\u00f3w. <pre><code>.catch((error) =&gt; {\n  console.error(\"Error fetching products:\", error);\n  res.status(500).send(\"Internal Server Error\");\n});\n</code></pre></p>"},{"location":"gcloud/functions/#funkcja-getproductbyid","title":"Funkcja <code>getProductById</code>","text":"<p>Zwraca pojedynczy produkt na podstawie przekazanego ID.</p> <p>Pobiera identyfikator produktu z zapytania i sprawdza jego obecno\u015b\u0107. <pre><code>const productId = req.query.id;\n\nif (!productId) {\n  res.status(400).send(\"Product ID is required\");\n  return;\n}\n</code></pre> Pobiera referencj\u0119 do dokumentu produktu o podanym ID. <pre><code>const productRef = admin.firestore().collection(\"products\").doc(productId);\n</code></pre> Pobiera dokument produktu i zwraca go w odpowiedzi, je\u015bli istnieje. <pre><code>productRef.get()\n    .then((doc) =&gt; {\n      if (!doc.exists) {\n        res.status(404).send(\"Product not found\");\n      } else {\n        res.status(200).json({\n          id: doc.id,\n          ...doc.data(),\n        });\n      }\n    })\n</code></pre> Obs\u0142uguje b\u0142\u0119dy podczas pobierania produktu. <pre><code>.catch((error) =&gt; {\n  console.error(\"Error fetching product:\", error);\n  res.status(500).send(\"Internal Server Error\");\n});\n</code></pre></p>"},{"location":"gcloud/functions/#funkcja-createproduct","title":"Funkcja <code>createProduct</code>","text":"<p>Dodaje nowy produkt do kolekcji <code>products</code> na podstawie danych przes\u0142anych w body \u017c\u0105dania.</p> <p>Pobiera dane produktu z cia\u0142a \u017c\u0105dania i sprawdza ich obecno\u015b\u0107. <pre><code>const product = req.body;\n\nif (!product) {\n  res.status(400).send(\"Product is required\");\n  return;\n}\n</code></pre> Dodaje nowy dokument do kolekcji produkt\u00f3w. <pre><code>const productsRef = admin.firestore().collection(\"products\");\n\nproductsRef.add(product)\n    .then((doc) =&gt; {\n      res.status(201).json({\n        id: doc.id,\n        ...product,\n      });\n    })\n</code></pre> Obs\u0142uguje b\u0142\u0119dy podczas dodawania produktu. <pre><code>.catch((error) =&gt; {\n  console.error(\"Error creating product:\", error);\n  res.status(500).send(\"Internal Server Error\");\n});\n</code></pre></p>"},{"location":"gcloud/functions/#modu-profilesjs","title":"Modu\u0142 <code>profiles.js</code>","text":"<p>Modu\u0142 <code>profiles.js</code> odpowiada za zarz\u0105dzanie profilami u\u017cytkownik\u00f3w w bazie danych Firestore. Umo\u017cliwia pobieranie wszystkich profili u\u017cytkownika oraz pobieranie pojedynczego profilu po ID.</p>"},{"location":"gcloud/functions/#funkcja-getprofiles","title":"Funkcja <code>getProfiles</code>","text":"<p>Zwraca list\u0119 wszystkich profili u\u017cytkownika na podstawie przekazanego <code>userId</code>.</p> <p>Pobiera identyfikator u\u017cytkownika z zapytania i sprawdza jego obecno\u015b\u0107. <pre><code>const usersRef = admin.firestore().collection(\"users\");\nconst userId = req.query.userId;\n\nif (!userId) {\n  res.status(400).send(\"User ID is required\");\n  return;\n}\n</code></pre> Pobiera wszystkie profile u\u017cytkownika z podkolekcji <code>profiles</code>. <pre><code>usersRef.doc(userId).collection(\"profiles\").get()\n    .then((snapshot) =&gt; {\n      const profiles = [];\n      snapshot.forEach((doc) =&gt; {\n        profiles.push({\n          id: doc.id,\n          ...doc.data(),\n        });\n      });\n      res.status(200).json(profiles);\n    })\n</code></pre> Obs\u0142uguje b\u0142\u0119dy podczas pobierania profili. <pre><code>.catch((error) =&gt; {\n  console.error(\"Error fetching profiles:\", error);\n  res.status(500).send(\"Internal Server Error\");\n});\n</code></pre></p>"},{"location":"gcloud/functions/#funkcja-getprofilebyid","title":"Funkcja <code>getProfileById</code>","text":"<p>Zwraca pojedynczy profil u\u017cytkownika na podstawie przekazanych <code>userId</code> i <code>profileId</code>.</p> <p>Pobiera identyfikatory u\u017cytkownika i profilu z zapytania oraz sprawdza ich obecno\u015b\u0107. <pre><code>const userId = req.query.userId;\nconst profileId = req.query.profileId;\n\nif (!userId) {\n  res.status(400).send(\"User ID is required\");\n  return;\n}\n\nif (!profileId) {\n  res.status(400).send(\"Profile ID is required\");\n  return;\n}\n</code></pre> Pobiera referencj\u0119 do dokumentu profilu u\u017cytkownika. <pre><code>const profileRef = admin.firestore().collection(\"users\")\n    .doc(userId).collection(\"profiles\").doc(profileId);\n</code></pre> Pobiera dokument profilu i zwraca go w odpowiedzi, je\u015bli istnieje. <pre><code>profileRef.get()\n    .then((doc) =&gt; {\n      if (!doc.exists) {\n        res.status(404).send(\"Profile not found\");\n      } else {\n        res.status(200).json({\n          id: doc.id,\n          ...doc.data(),\n        });\n      }\n    })\n</code></pre> Obs\u0142uguje b\u0142\u0119dy podczas pobierania profilu. <pre><code>.catch((error) =&gt; {\n  console.error(\"Error fetching profile:\", error);\n  res.status(500).send(\"Internal Server Error\");\n});\n</code></pre></p>"},{"location":"gcloud/functions/#modu-storesjs","title":"Modu\u0142 <code>stores.js</code>","text":"<p>Modu\u0142 <code>stores.js</code> odpowiada za zarz\u0105dzanie sklepami w bazie danych Firestore. Umo\u017cliwia pobieranie listy sklep\u00f3w, pobieranie sklepu po ID lub nazwie oraz dodawanie nowych sklep\u00f3w (w tym losowych).</p>"},{"location":"gcloud/functions/#funkcja-getstores","title":"Funkcja <code>getStores</code>","text":"<p>Zwraca list\u0119 wszystkich sklep\u00f3w zapisanych w kolekcji <code>stores</code>.</p> <p>Pobiera referencj\u0119 do kolekcji sklep\u00f3w. <pre><code>const storesRef = admin.firestore().collection(\"stores\");\n</code></pre> Pobiera wszystkie dokumenty z kolekcji, mapuje je na tablic\u0119 obiekt\u00f3w z polem <code>id</code> i danymi sklepu. <pre><code>storesRef.get()\n    .then((snapshot) =&gt; {\n      const stores = [];\n      snapshot.forEach((doc) =&gt; {\n        stores.push({\n          id: doc.id,\n          ...doc.data(),\n        });\n      });\n      res.status(200).json(stores);\n    })\n</code></pre> Obs\u0142uguje b\u0142\u0119dy podczas pobierania sklep\u00f3w. <pre><code>.catch((error) =&gt; {\n  console.error(\"Error fetching stores:\", error);\n  res.status(500).send(\"Internal Server Error\");\n});\n</code></pre></p>"},{"location":"gcloud/functions/#funkcja-getstorebyid","title":"Funkcja <code>getStoreById</code>","text":"<p>Zwraca pojedynczy sklep na podstawie przekazanego ID.</p> <p>Pobiera identyfikator sklepu z zapytania i sprawdza jego obecno\u015b\u0107. <pre><code>const storeId = req.query.id;\n\nif (!storeId) {\n  res.status(400).send(\"Store ID is required\");\n  return;\n}\n</code></pre> Pobiera referencj\u0119 do dokumentu sklepu o podanym ID. <pre><code>const storesRef = admin.firestore().collection(\"stores\").doc(storeId);\n</code></pre> Pobiera dokument sklepu i zwraca go w odpowiedzi, je\u015bli istnieje. <pre><code>storesRef.get()\n    .then((doc) =&gt; {\n      if (!doc.exists) {\n        res.status(404).send(\"Store not found\");\n      } else {\n        res.status(200).json({\n          id: doc.id,\n          ...doc.data(),\n        });\n      }\n    })\n</code></pre> Obs\u0142uguje b\u0142\u0119dy podczas pobierania sklepu. <pre><code>.catch((error) =&gt; {\n  console.error(\"Error fetching store:\", error);\n  res.status(500).send(\"Internal Server Error\");\n});\n</code></pre></p>"},{"location":"gcloud/functions/#funkcja-getstorebyname","title":"Funkcja <code>getStoreByName</code>","text":"<p>Zwraca sklep lub sklepy na podstawie przekazanej nazwy.</p> <p>Pobiera nazw\u0119 sklepu z zapytania i sprawdza jej obecno\u015b\u0107. <pre><code>const storeName = req.query.name;\nif (!storeName) {\n  res.status(400).send(\"Store name is required\");\n  return;\n}\n</code></pre> Wyszukuje sklepy o podanej nazwie w kolekcji. <pre><code>const storesRef = admin.firestore().collection(\"stores\");\nstoresRef.where(\"name\", \"==\", storeName).get()\n    .then((snapshot) =&gt; {\n      const stores = [];\n      snapshot.forEach((doc) =&gt; {\n        stores.push({\n          id: doc.id,\n          ...doc.data(),\n        });\n      });\n      res.status(200).json(stores);\n    })\n</code></pre> Obs\u0142uguje b\u0142\u0119dy podczas pobierania sklep\u00f3w. <pre><code>.catch((error) =&gt; {\n  console.error(\"Error fetching stores:\", error);\n  res.status(500).send(\"Internal Server Error\");\n});\n</code></pre></p>"},{"location":"gcloud/functions/#funkcja-createstore","title":"Funkcja <code>createStore</code>","text":"<p>Dodaje nowy sklep do kolekcji <code>stores</code> na podstawie danych przes\u0142anych w body \u017c\u0105dania.</p> <p>Pobiera dane sklepu z cia\u0142a \u017c\u0105dania i sprawdza ich obecno\u015b\u0107. <pre><code>const store = req.body;\n\nif (!store) {\n  res.status(400).send(\"Store is required\");\n  return;\n}\n</code></pre> Dodaje nowy dokument do kolekcji sklep\u00f3w. <pre><code>const storeRef = admin.firestore().collection(\"stores\");\n\nstoreRef.add(store)\n    .then((doc) =&gt; {\n      res.status(201).json({\n        id: doc.id,\n        ...store,\n      });\n    })\n</code></pre> Obs\u0142uguje b\u0142\u0119dy podczas dodawania sklepu. <pre><code>.catch((error) =&gt; {\n  console.error(\"Error creating product:\", error);\n  res.status(500).send(\"Internal Server Error\");\n});\n</code></pre></p>"},{"location":"gcloud/functions/#bezpieczenstwo-i-autoryzacja","title":"Bezpiecze\u0144stwo i autoryzacja","text":"<p>Wszystkie funkcje chmurowe w projekcie Unordered zosta\u0142y zaprojektowane z uwzgl\u0119dnieniem bezpiecze\u0144stwa i kontroli dost\u0119pu. Poni\u017cej opisano g\u0142\u00f3wne mechanizmy zabezpiecze\u0144 stosowane w funkcjach backendowych:</p> <ul> <li> <p>Weryfikacja autoryzacji u\u017cytkownika:   Funkcje, kt\u00f3re wykonuj\u0105 operacje na danych u\u017cytkownika (np. tworzenie box\u00f3w, pobieranie profili, dodawanie produkt\u00f3w), wymagaj\u0105 obecno\u015bci wa\u017cnego tokena autoryzacyjnego. Przed wykonaniem logiki funkcji sprawdzana jest autoryzacja u\u017cytkownika, a w przypadku jej braku zwracany jest odpowiedni b\u0142\u0105d (np. <code>unauthenticated</code> lub kod HTTP 400/401).</p> </li> <li> <p>Walidacja danych wej\u015bciowych:   Ka\u017cda funkcja sprawdza obecno\u015b\u0107 wymaganych parametr\u00f3w wej\u015bciowych (np. <code>userId</code>, <code>profileId</code>, <code>productId</code>, <code>storeId</code>). W przypadku braku wymaganych danych funkcja natychmiast przerywa dzia\u0142anie i zwraca b\u0142\u0105d.</p> </li> <li> <p>Ograniczenie dost\u0119pu do danych:   Funkcje umo\u017cliwiaj\u0105 dost\u0119p wy\u0142\u0105cznie do danych powi\u0105zanych z zalogowanym u\u017cytkownikiem (np. profile, boxy). Nie jest mo\u017cliwe pobranie lub modyfikacja danych innych u\u017cytkownik\u00f3w bez odpowiednich uprawnie\u0144.</p> </li> <li> <p>Obs\u0142uga b\u0142\u0119d\u00f3w i logowanie:   Wszystkie funkcje posiadaj\u0105 obs\u0142ug\u0119 b\u0142\u0119d\u00f3w oraz logowanie nieudanych operacji, co pozwala na monitorowanie potencjalnych nadu\u017cy\u0107 i szybkie reagowanie na incydenty.</p> </li> <li> <p>Bezpieczna komunikacja z zewn\u0119trznymi API:   Wywo\u0142ania do zewn\u0119trznych us\u0142ug (np. OpenAI) s\u0105 realizowane z u\u017cyciem token\u00f3w autoryzacyjnych u\u017cytkownika oraz bezpiecznych protoko\u0142\u00f3w komunikacyjnych.</p> </li> <li> <p>Dodatkowe zabezpieczenia (za\u0142o\u017cenie):   Zak\u0142ada si\u0119, \u017ce w \u015brodowisku produkcyjnym funkcje s\u0105 dodatkowo chronione przez regu\u0142y bezpiecze\u0144stwa Firestore, ograniczenia sieciowe oraz mechanizmy rate limiting, co uniemo\u017cliwia nieautoryzowany dost\u0119p i nadu\u017cycia.</p> </li> </ul>"},{"location":"gcloud/overview/","title":"Dokumentacja Backend (Firebase)","text":""},{"location":"gcloud/overview/#wprowadzenie","title":"Wprowadzenie","text":"<p>W tej sekcji opisano backend aplikacji Unordered, kt\u00f3ry jest oparty na Firebase, Firestore, Google Cloud Functions oraz OpenAI API. Opis zawiera informacje o strukturze projektu, wymaganiach systemowych, sposobie wdro\u017cenia oraz g\u0142\u00f3wnych funkcjonalno\u015bciach.</p>"},{"location":"gcloud/overview/#wymagania-systemowe","title":"Wymagania systemowe","text":"<ul> <li>Node.js (zalecana wersja zgodna z Google Cloud Functions)</li> <li>Google Cloud SDK</li> <li>Konto Google Cloud Platform z aktywnym projektem Firebase</li> </ul>"},{"location":"gcloud/overview/#wysokopoziomowy-diagram-architektury","title":"Wysokopoziomowy diagram architektury","text":""},{"location":"gcloud/overview/#wdrozenie","title":"Wdro\u017cenie","text":"<ol> <li>Przejd\u017a do katalogu <code>functions/</code>.</li> <li>Zainstaluj zale\u017cno\u015bci: <code>npm install</code></li> <li>Skonfiguruj zmienne \u015brodowiskowe i klucze API patrz sekcja 6.</li> <li>Uruchom funkcje lokalnie: <code>firebase emulators:start</code>    lub wdro\u017c do chmury: <code>firebase deploy --only functions</code></li> </ol>"},{"location":"gcloud/overview/#struktura-projektu","title":"Struktura projektu","text":"<p>G\u0142\u00f3wne katalogi i pliki:</p> <ul> <li><code>functions/</code> \u2013 kod \u017ar\u00f3d\u0142owy Cloud Functions:</li> <li><code>matching/</code> \u2013 logika tworzenia box\u00f3w (boxy na podst. profilu, boxy losowe, boxy dzienne)</li> <li><code>openai/</code> \u2013 komunikacja z API OpenAI, generowanie rekomendacji produkt\u00f3w</li> <li><code>products/</code> \u2013 zarz\u0105dzanie produktami</li> <li><code>profiles/</code> \u2013 zarz\u0105dzanie profilami u\u017cytkownik\u00f3w</li> <li><code>stores/</code> \u2013 zarz\u0105dzanie sklepami</li> <li><code>orders/</code> \u2013 obs\u0142uga zam\u00f3wie\u0144 (tylko funkcje testowe dla wersji demo)</li> <li><code>package.json</code> \u2013 zale\u017cno\u015bci projektu</li> <li><code>firebase.json</code> \u2013 plik konfiguracyjny Firebase</li> </ul>"},{"location":"gcloud/overview/#gowne-zaleznosci","title":"G\u0142\u00f3wne zale\u017cno\u015bci","text":"<ul> <li>Firebase Admin SDK \u2013 dost\u0119p do Firestore, autoryzacja, zarz\u0105dzanie u\u017cytkownikami</li> <li>Google Cloud Functions SDK \u2013 definiowanie i obs\u0142uga funkcji chmurowych</li> <li>Axios \u2013 wykonywanie zapyta\u0144 HTTP do zewn\u0119trznych API (np. OpenAI)</li> <li>OpenAI API \u2013 generowanie rekomendacji produkt\u00f3w</li> </ul>"},{"location":"gcloud/overview/#konfiguracja-srodowiska","title":"Konfiguracja \u015brodowiska","text":"<p>Konfiguracja \u015brodowiska obejmuje ustawienie zmiennych \u015brodowiskowych, takich jak klucze API do us\u0142ug zewn\u0119trznych (np. OpenAI), oraz odpowiednich uprawnie\u0144 konta serwisowego Google Cloud do korzystania z Firestore i Cloud Functions. Klucze i sekrety przechowywane s\u0105 w pliku <code>.env.local</code> kt\u00f3ry nie jest do\u0142\u0105czany do repozytorium oraz jest bezpiecznie przechowywany w Firebase. - Przyk\u0142adowy plik <code>.env.local</code>: <pre><code>OPENAI_API_KEY=klucz_do_openai\n</code></pre></p>"},{"location":"gcloud/overview/#opis-funkcjonalnosci","title":"Opis funkcjonalno\u015bci","text":"<ul> <li>Tworzenie i obs\u0142uga box\u00f3w:   U\u017cytkownik mo\u017ce utworzy\u0107 box na podstawie profilu, bud\u017cetu i okazji lub wygenerowa\u0107 box losowy. System korzysta z OpenAI do doboru produkt\u00f3w.</li> <li>Komunikacja z AI (OpenAI):   Generowanie rekomendacji produkt\u00f3w na podstawie profilu, bud\u017cetu, okazji lub losowo.</li> <li>Zarz\u0105dzanie u\u017cytkownikami i autoryzacj\u0105:   Obs\u0142uga profili u\u017cytkownik\u00f3w, autoryzacja \u017c\u0105da\u0144, walidacja uprawnie\u0144.</li> <li>Zarz\u0105dzanie produktami i sklepami:   Dodawanie, pobieranie i wyszukiwanie produkt\u00f3w oraz sklep\u00f3w w bazie Firestore.</li> </ul> <p>Funkcjonalno\u015b\u0107 poszczeg\u00f3lnych modu\u0142\u00f3w jest opisana na stronie Dokumentacja funkcji chmurowych.</p>"}]}